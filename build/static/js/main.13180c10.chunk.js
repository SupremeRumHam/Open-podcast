(this["webpackJsonpopenpodcast-client"]=this["webpackJsonpopenpodcast-client"]||[]).push([[0],{146:function(e,t,a){e.exports=a(194)},151:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=a(9),c=a(8),s=a(11),p=a(12),m=a(14),u=a(16),d=a(43),g=(a(151),a(117)),h=a.n(g),f=a(13),b=a(48),E=a(119),v=a(35),x=a(4);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[]};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={updates:[],update:{},loading:!1};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N,k,I,U,P,D,R={loading:!1,errors:null},L=[E.a],F=Object(b.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return A({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return O;case"SET_USER":return A({authenticated:!0,loading:!1},t.payload);case"LOADING_USER":return A({},e,{loading:!0});case"LIKE_UPDATE":return A({},e,{likes:[].concat(Object(v.a)(e.likes),[{userHandle:e.credentials.handle,updatesId:t.payload.updatesId}])});case"UNLIKE_UPDATE":return A({},e,{likes:e.likes.filter((function(e){return e.updatesId!==t.payload.updatesId}))});case"MARK_NOTIFICATIONS_READ":return e.notifications.forEach((function(e){return e.read=!0})),A({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return S({},e,{loading:!0});case"SET_UPDATES":return S({},e,{updates:t.payload,loading:!1});case"SET_UPDATE":return S({},e,{update:t.payload});case"LIKE_UPDATE":case"UNLIKE_UPDATE":var a=e.updates.findIndex((function(e){return e.updatesId===t.payload.updatesId}));return e.updates[a]=t.payload,e.update.updatesId===t.payload.updatesId&&(e.update=t.payload),S({},e);case"DELETE_UPDATE":return a=e.updates.findIndex((function(e){return e.updatesId===t.payload})),e.updates.splice(a,1),S({},e);case"POST_UPDATE":return S({},e,{updates:[t.payload].concat(Object(v.a)(e.updates))});case"SUBMIT_COMMENT":return S({},e,{update:S({},e.update,{comments:[t.payload].concat(Object(v.a)(e.update.comments))})});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return C({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return C({},e,{loading:!1,errors:null});case"LOADING_UI":return C({},e,{loading:!0});case"STOP_LOADING_UI":return C({},e,{loading:!1});default:return e}}}),W=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):b.d)(b.a.apply(void 0,L)),B=Object(b.e)(F,{},W),V=a(20),z=a.n(V),M=function(){return function(e){localStorage.removeItem("FBIdToken"),delete z.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}},Y=function(){return function(e){e({type:"LOADING_USER"}),z.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},X=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),z.a.defaults.headers.common.Authorization=t},_=a(241),H=a(224),q=function(e){var t=e.children,a=e.onClick,n=e.tip,o=e.btnClassName,i=e.tipClassName;return r.a.createElement(_.a,{title:n,className:i,placement:"top"},r.a.createElement(H.a,{onClick:a,className:o},t))},G=a(17),J=a.n(G),K=a(228),Z=function(){return function(e){e({type:"CLEAR_ERRORS"})}},Q=a(227),$=a(238),ee=a(240),te=a(225),ae=a(226),ne=a(121),re=a.n(ne),oe=a(74),ie=a.n(oe),le=(N={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},Object(x.a)(N,"button",{float:"right"}),Object(x.a)(N,"submitButton",{position:"relative",float:"right",marginTop:10}),Object(x.a)(N,"progressSpinner",{position:"absolute"}),Object(x.a)(N,"closeButton",{position:"absolute",left:"91%",top:"6%"}),N),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,body:" ",errors:{}},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.props.clearErrors(),a.setState({open:!1,errors:{}})},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.postUpdate({body:a.state.body})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({body:" ",open:!1,errors:{}})}},{key:"render",value:function(){var e=this.state.errors,t=this.props,a=t.classes,o=t.UI.loading;return r.a.createElement(n.Fragment,null,r.a.createElement(q,{onClick:this.handleOpen,tip:"Post an Update!"},r.a.createElement(re.a,null)),r.a.createElement(ee.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(q,{tip:"Close",onClick:this.handleClose,tipClassName:a.closeButton},r.a.createElement(ie.a,null)),r.a.createElement(te.a,null," Post a new update"),r.a.createElement(ae.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($.a,{name:"body",type:"text",label:"Updates",multiline:!0,rows:"3",placeholder:"interact with the community",error:!!e.body,helperText:e.body,className:a.textField,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:a.submitButton,disabled:o},"Submit",o&&r.a.createElement(K.a,{size:30,className:a.progressSpinner}))))))}}]),t}(n.Component),se=Object(f.b)((function(e){return{UI:e.UI}}),{postUpdate:function(e){return function(t){t({type:"LOADING_UI"}),z.a.post("/update",e).then((function(e){t({type:"POST_UPDATE",payload:e.data}),t(Z())})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}},clearErrors:Z})(J()(le)(ce)),pe=a(25),me=a.n(pe),ue=a(76),de=a.n(ue),ge=a(127),he=a(242),fe=a(130),be=a(229),Ee=a(82),ve=a.n(Ee),xe=a(77),ye=a.n(xe),Ae=a(57),Oe=a.n(Ae),je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleOpen=function(e){a.setState({anchorEl:e.target})},a.handleClose=function(){a.setState({anchorEl:null})},a.onMenuOpened=function(){var e=a.props.notifications.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));a.props.markNotificationsRead(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.notifications,o=this.state.anchorEl;me.a.extend(de.a),e=a&&a.length>0&&a.filter((function(e){return!1===e.read})).length>0?r.a.createElement(be.a,{badgeContent:a.filter((function(e){return!1===e.read})).length,color:"secondary"},r.a.createElement(ve.a,null)):r.a.createElement(ve.a,null);a&&a.length>0?a.map((function(e){var a="like"===e.type?"liked":"commented on",n=me()(e.createdAt).fromNow(),o=e.read?"primary":"secondary",i="like"===e.type?r.a.createElement(ye.a,{color:o,style:{marginRight:10}}):r.a.createElement(Oe.a,{color:o,style:{marginRight:10}});return r.a.createElement(he.a,{key:e.createdAt,onClick:t.handleClose},i,r.a.createElement(fe.a,{component:u.b,color:"default",variant:"body1",to:"/users/".concat(e.recipient,"/update/").concat(e.updatesId)},e.sender," ",a," your update ",n))})):r.a.createElement(he.a,{onClick:this.handleClose},"You have no notifications yet");return r.a.createElement(n.Fragment,null,r.a.createElement(_.a,{placement:"top",title:"Notifications"},r.a.createElement(H.a,{"aria-owns":o?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpen},e)),r.a.createElement(ge.a,{anchorEl:o,open:Boolean(o),onClose:this.handleClose,onEntered:this.onMenuOpened}))}}]),t}(n.Component),Se=Object(f.b)((function(e){return{notifications:e.user.notifications}}),{markNotificationsRead:function(e){return function(t){z.a.post("/notifications",e).then((function(e){t({type:"MARK_NOTIFICATIONS_READ"})})).catch((function(e){return console.log(e)}))}}})(je),we=a(230),Te=a(231),Ce=a(123),Ne=a.n(Ce),ke=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.authenticated;return r.a.createElement(we.a,null,r.a.createElement(Te.a,{className:"nav-container"},e?r.a.createElement(n.Fragment,null,r.a.createElement(se,null),r.a.createElement(u.b,{to:"/"},r.a.createElement(q,{tip:"Home"},r.a.createElement(Ne.a,null))),r.a.createElement(Se,null)):r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{color:"inherit",component:u.b,to:"/login"},"Login"),r.a.createElement(Q.a,{color:"inherit",component:u.b,to:"/"},"Home"),r.a.createElement(Q.a,{color:"inherit",component:u.b,to:"/signup"},"Sign up"))))}}]),t}(n.Component),Ie=Object(f.b)((function(e){return{authenticated:e.user.authenticated}}))(ke),Ue=a(2),Pe=Object(f.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(Ue.a)(e,["component","authenticated"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(d.a,{to:"/"}):r.a.createElement(t,e)}}))})),De=a(233),Re=a(232),Le=a(124),Fe=a.n(Le),We=(k={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},Object(x.a)(k,"button",{float:"right"}),Object(x.a)(k,"deleteButton",{position:"absolute",left:"90%",top:"10%"}),k),Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.deleteUpdate=function(){a.props.deleteUpdate(a.props.updatesId),a.setState({open:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q,{tip:"Delete Update",onClick:this.handleOpen,btnClassName:e.deleteButton},r.a.createElement(Fe.a,{color:"secondary"})),r.a.createElement(ee.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(te.a,null,"Are you sure you want to delete this?"),r.a.createElement(Re.a,null,r.a.createElement(Q.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(Q.a,{onClick:this.deleteUpdate,color:"secondary"},"Delete"))))}}]),t}(n.Component),Ve=Object(f.b)(null,{deleteUpdate:function(e){return function(t){z.a.delete("/update/".concat(e)).then((function(){t({types:"DELETE_UPDATE",payload:e})})).catch((function(e){return console.log(e)}))}}})(J()(We)(Be)),ze=(I={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},Object(x.a)(I,"button",{float:"right"}),Object(x.a)(I,"commentImage",{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"50%"}),Object(x.a)(I,"commentData",{marginLeft:20}),I),Me=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.classes;return r.a.createElement(De.a,{container:!0},t.map((function(e,o){var i=e.body,l=e.createdAt,c=e.userImage,s=e.userHandle;return r.a.createElement(n.Fragment,{key:l},r.a.createElement(De.a,{item:!0,sm:10},r.a.createElement(De.a,{container:!0},r.a.createElement(De.a,{item:!0,sm:2},r.a.createElement("img",{src:c,alt:"comment",className:a.commentImage})),r.a.createElement(De.a,{item:!0,sm:9},r.a.createElement("div",{className:a.commentData},r.a.createElement(fe.a,{variant:"h5",component:u.b,to:"/users/".concat(s),color:"primary"},s),r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},me()(l).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{className:a.invisibleSeparator}),r.a.createElement(fe.a,{variant:"h1"},i))))),o!==t.length-1&&r.a.createElement("hr",{className:a.visibleSeparator}))})))}}]),t}(n.Component),Ye=J()(ze)(Me),Xe=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={body:"",errors:{}},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.submitComment(a.props.updatesId,{body:a.state.body})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({body:""})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authenticated,n=this.state.errors;return a?r.a.createElement(De.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($.a,{name:"body",type:"text",label:"Comment on Update",error:!!n.comment,helperText:n.comment,value:this.state.body,onChange:this.handleChange,fullWidth:!0,className:t.TextField}),r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Submit")),r.a.createElement("hr",{className:t.visibleSeparator})):null}}]),t}(n.Component),He=Object(f.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{submitComment:function(e,t){return function(a){z.a.post("/update/".concat(e,"/comment"),t).then((function(e){a({type:"SUBMIT_COMMENT",payload:e.data}),a(Z())})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(J()(Xe)(_e)),qe=a(125),Ge=a.n(qe),Je=a(92),Ke=a.n(Je),Ze=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).likedUpdate=function(){return!(!a.props.user.likes||!a.props.user.likes.find((function(e){return e.updatesId===a.props.updatesId})))},a.likeUpdate=function(){a.props.likeUpdate(a.props.updatesId)},a.unlikeUpdate=function(){a.props.unlikeUpdate(a.props.updatesId)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.user.authenticated?this.likedUpdate()?r.a.createElement(q,{tip:"Undo like",onClick:this.unlikeUpdate},r.a.createElement(ye.a,{color:"primary"})):r.a.createElement(q,{tip:"Like",onClick:this.likeUpdate},r.a.createElement(Ke.a,{color:"primary"})):r.a.createElement(u.b,{to:"/login"},r.a.createElement(q,{tip:"Like"},r.a.createElement(Ke.a,{color:"primary"})))}}]),t}(n.Component),Qe={likeUpdate:function(e){return function(t){z.a.get("/update/".concat(e,"/like")).then((function(e){t({type:"LIKE_UPDATE",PAYLOAD:e.data})})).catch((function(e){return console.log(e)}))}},unlikeUpdate:function(e){return function(t){z.a.get("/update/".concat(e,"/unlike")).then((function(e){t({type:"UNLIKE_UPDATE",PAYLOAD:e.data})})).catch((function(e){return console.log(e)}))}}},$e=Object(f.b)((function(e){return{user:e.user}}),Qe)(Ze),et=(U={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},Object(x.a)(U,"button",{float:"right"}),Object(x.a)(U,"profileImage",{maxWidth:200,height:200,borderRadius:"50%",objectFit:"cover"}),Object(x.a)(U,"dialogContent",{padding:20}),Object(x.a)(U,"closeButton",{position:"absolute",left:"90%"}),Object(x.a)(U,"expandButton",{position:"absolute",left:"90%"}),Object(x.a)(U,"spinnerDiv",{textAlign:"center",marginTop:50,marginBottom:50}),U),tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,oldPath:"",newPath:""},a.handleOpen=function(){var e=window.location.pathname,t=a.props,n=t.userHandle,r=t.updatesId,o="/users/".concat(n,"/update/").concat(r);e===o&&(e="/users/".concat(n)),window.history.pushState(null,null,o),a.setState({open:!0,oldPath:e,newPath:o}),a.props.getUpdate(a.props.updateId)},a.handleClose=function(){window.history.pushState(null,null,a.state.oldPath),a.setState({open:!1}),a.props.clearErrors()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.update,o=a.updatesId,i=(a.body,a.createdAt),l=a.likeCount,c=a.commentCount,s=a.userImage,p=a.userHandle,m=a.comments,d=e.UI.loading?r.a.createElement("div",{className:t.spinnerDiv},r.a.createElement(K.a,{size:200,thickness:2})):r.a.createElement(De.a,{container:!0,spacing:10},r.a.createElement(De.a,{item:!0,sm:5},r.a.createElement("img",{src:s,alt:"Profile",className:t.profileImage})),r.a.createElement(De.a,{item:!0,sm:7},r.a.createElement(fe.a,{component:u.b,color:"primary",variant:"h5",to:"/users/".concat(p)},"@",p),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},me()(i).format("h:mm a, MMMMM DD YYYY")),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(Ze,{updatesId:o}),r.a.createElement("span",null,l," likes"),r.a.createElement(q,{tip:"comments"},r.a.createElement(Oe.a,{color:"primary"})),r.a.createElement("span",null,c," comments")),r.a.createElement("hr",{className:t.visibleSeparator}),r.a.createElement(He,{updatesId:o}),r.a.createElement(Ye,{comments:m}));return r.a.createElement(n.Fragment,null,r.a.createElement(q,{onClick:this.handleOpen,tip:"Expand update",tipClassName:t.expandButton},r.a.createElement(Ge.a,{color:"primary"})),r.a.createElement(ee.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(q,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(ie.a,null)),r.a.createElement(ae.a,{className:t.dialogContent},d)))}}]),t}(n.Component),at={getUpdate:function(e){return function(t){t({type:"LOADING_UI"}),z.a.get("/update/".concat(e)).then((function(e){t({type:"SET_UPDATE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}},clearErrors:Z},nt=Object(f.b)((function(e){return{update:e.data.update,UI:e.UI}}),at)(J()(et)(tt)),rt=a(234),ot=a(236),it=a(235),lt=(P={card:{position:"relative",display:"flex",marginBottom:20},image:{minWidth:200},content:{padding:25,objectFit:"cover"},palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"}},Object(x.a)(P,"image",{margin:"20px auto 20px auto"}),Object(x.a)(P,"pageTitle",{margin:"10px auto 10px auto"}),Object(x.a)(P,"textField",{margin:"10px auto 10px auto"}),Object(x.a)(P,"button",{marginTop:20,position:"relative"}),Object(x.a)(P,"customError",{color:"red",fontSize:"0.8rem",marginTop:10}),Object(x.a)(P,"progress",{position:"absolute"}),Object(x.a)(P,"invisibleSeparator",{border:"none",margin:4}),Object(x.a)(P,"visibleSeparator",{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20}),Object(x.a)(P,"paper",{padding:20}),Object(x.a)(P,"profile",{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}}),Object(x.a)(P,"buttons",{textAlign:"center","& a":{margin:"20px 10px"}}),P),ct=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){me.a.extend(de.a);var e=this.props,t=e.classes,a=e.update,n=(a.body,a.createdAt),o=a.userImage,i=a.userHandle,l=a.updatesId,c=a.likeCount,s=a.commentCount,p=e.user,m=p.authenticated,d=p.credentials.handle,g=m&&i===d?r.a.createElement(Ve,{updatesId:l}):null;return r.a.createElement(rt.a,{className:t.card},r.a.createElement(it.a,{image:o,title:"Profile Image",className:t.image}),r.a.createElement(ot.a,{className:t.content},r.a.createElement(fe.a,{variant:"h5",component:u.b,to:"/user/".concat(i),color:"primary"},i),g,r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},me()(n).fromNow()),r.a.createElement(fe.a,{variant:"body1",color:"textSecondary"},me()(n).fromNow()),r.a.createElement($e,{updatesId:l}),r.a.createElement("span",null,c," Likes"),r.a.createElement(q,{tip:"comments"},r.a.createElement(Oe.a,{color:"primary"})),r.a.createElement("span",null,s," comments"),r.a.createElement(nt,{updatesId:l,userHandle:i,openDialog:this.props.openDialog})))}}]),t}(n.Component),st=Object(f.b)((function(e){return{user:e.user}}))(J()(lt)(ct)),pt=a(78),mt=a.n(pt),ut=(Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={bio:" ",website:" ",location:" ",open:!1},a.mapUserDetailsToState=function(e){a.setState({bio:e.bio?e.bio:" ",website:e.website?e.website:" ",location:e.location?e.location:" "})},a.handleOpen=function(){a.setState({open:!0}),a.mapUserDetailsToState(a.props.credentials)},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e={bio:a.state.bio,website:a.state.website,location:a.state.location};a.props.editUserDetails(e),a.handleClose()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.credentials;this.mapUserDetailsToState(e)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q,{tip:"Edit Details",onClick:this.handleOpen,btnClassName:e.button},r.a.createElement(mt.a,{color:"primary"})),r.a.createElement(ee.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(te.a,null," Edit your details "),r.a.createElement(ae.a,null,r.a.createElement("form",null,r.a.createElement($.a,{name:"bio",type:"text",label:"Bio",multiline:!0,rows:"3",placeholder:"placeholder bio",className:e.textField,value:this.state.bio,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{name:"website",type:"text",label:"Website",placeholder:"Your website",className:e.textField,value:this.state.website,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{name:"location",type:"text",label:"Location",placeholder:"Where you live",className:e.textField,value:this.state.location,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(Re.a,null,r.a.createElement(Q.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(Q.a,{onClick:this.handleSubmit,color:"primary"},"Save"))))}}]),t}(n.Component)),dt=Object(f.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:"LOADING_USER"}),z.a.post("/user",e).then((function(){t(Y())})).catch((function(e){return console.log(e)}))}}})(J()(ut)),gt=a(79),ht=a.n(gt),ft=a(129),bt=a(58),Et=a.n(bt),vt=a(59),xt=a.n(vt),yt=a(60),At=a.n(yt),Ot=(D={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},Object(x.a)(D,"button",{float:"right"}),Object(x.a)(D,"handle",{height:20,backgroundColor:"#ff0000",width:60,margin:"0 auto 7px auto"}),Object(x.a)(D,"fullLine",{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"100%",marginBottom:10}),Object(x.a)(D,"halfLine",{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"50%",marginBottom:10}),D),jt=J()(Ot)((function(e){var t=e.classes;return r.a.createElement(ft.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:ht.a,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:t.handle}),r.a.createElement("hr",null),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("hr",null),r.a.createElement(Et.a,{color:"primary"})," ",r.a.createElement("span",null,"Location"),r.a.createElement("hr",null),r.a.createElement(xt.a,{color:"primary"})," https://website.com",r.a.createElement("hr",null),r.a.createElement(At.a,{color:"primary"})," Joined Date:")))})),St=a(237),wt=a(126),Tt=a.n(wt),Ct=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),Nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){document.getElementById("imageInput").click()},a.handleLogout=function(){a.props.logoutUser()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,o=a.credentials,i=o.handle,l=o.createdAt,c=o.imageUrl,s=o.bio,p=o.website,m=o.location,d=a.loading,g=a.authenticated;return d?r.a.createElement(jt,null):g?r.a.createElement(ft.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:c,alt:"profile",className:"profile-image"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange}),r.a.createElement(q,{tip:"Edit profile picture",onClick:this.handleEditPicture,btnClassName:"button"},r.a.createElement(mt.a,{color:"primary"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(St.a,{component:u.b,to:"/users/".concat(i),color:"primary",variant:"h5"},"@",i),r.a.createElement("hr",null),s&&r.a.createElement(fe.a,{variant:"body2"},s),r.a.createElement("hr",null),m&&r.a.createElement(n.Fragment,null,r.a.createElement(Et.a,{color:"primary"})," ",r.a.createElement("span",null,m),r.a.createElement("hr",null)),p&&r.a.createElement(n.Fragment,null,r.a.createElement(xt.a,{color:"primary"}),r.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer"}," ",p),r.a.createElement("hr",null)),r.a.createElement(At.a,{color:"primary"})," ",r.a.createElement("span",null," Joined ",me()(l).format("MMM YYYY"))),r.a.createElement(q,{tip:"Logout",onClick:this.handleLogout},r.a.createElement(Tt.a,{color:"primary"})),r.a.createElement(dt,null))):r.a.createElement(ft.a,{className:t.paper},r.a.createElement(fe.a,{variant:"h2",align:"center"},"No profile found, please login again"),r.a.createElement("div",{className:t.buttons},r.a.createElement(Q.a,{variant:"contained",color:"primary",component:u.b,to:"/login"},"Login"),r.a.createElement(Q.a,{variant:"contained",color:"secondary",component:u.b,to:"/signup"},"Signup")))}}]),t}(n.Component),kt={logoutUser:M,uploadImage:function(e){return function(t){t({type:"LOADING_USER"}),z.a.post("/user/image",e).then((function(){t(Y())})).catch((function(e){return console.log(e)}))}}},It=Object(f.b)((function(e){return{user:e.user}}),kt)(J()(Ct)(Nt)),Ut=J()({card:{display:"flex",marginBottom:20},cardContent:{width:"100%",flexDirection:"column",padding:25},cover:{minWidth:200,objectFit:"cover"},handle:{width:60,height:18,backgroundColor:"#ff0000",marginBottom:7},date:{height:14,width:100,backgroundColor:"rgba(0,0,0, 0.3)",marginBottom:10},fullLine:{height:15,width:"90%",backgroundColor:"rgba(0,0,0, 0.6)",marginBottom:10},halfLine:{height:15,width:"50%",backgroundColor:"rgba(0,0,0, 0.6)",marginBottom:10},palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}})((function(e){var t=e.classes,a=Array.from({length:5}).map((function(e,a){return r.a.createElement(rt.a,{className:t.card,key:a},r.a.createElement(it.a,{className:t.cover,image:ht.a}),r.a.createElement(ot.a,{className:t.CardContent},r.a.createElement("div",{className:t.handle}),r.a.createElement("div",{className:t.date}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.halfLine})))}));return r.a.createElement(n.Fragment,null,a)})),Pt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getUpdates()}},{key:"render",value:function(){var e=this.props.data,t=e.updates,a=e.loading?r.a.createElement(Ut,null):t.map((function(e){return r.a.createElement(st,{key:e.updatesId,update:e})}));return r.a.createElement(De.a,{container:!0,spacing:10},r.a.createElement(De.a,{item:!0,sm:8,xs:10},a),r.a.createElement(De.a,{item:!0,sm:4,xs:10},r.a.createElement(It,null)))}}]),t}(n.Component),Dt=Object(f.b)((function(e){return{data:e.data}}),{getUpdates:function(){return function(e){e({type:"LOADING_DATA"}),z.a.get("/updates").then((function(t){e({type:"SET_UPDATES",payload:t.data})})).catch((function(t){e({type:"SET_UPDATES",payload:[]})}))}}})(Pt),Rt=a(80),Lt=a.n(Rt),Ft=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"1px solid rgba(0,0,0,0.1)",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),Wt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.state={email:" ",password:" ",errors:{}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return r.a.createElement(De.a,{container:!0,className:t.form},r.a.createElement(De.a,{item:!0,sm:!0}),r.a.createElement(De.a,{item:!0,sm:!0},r.a.createElement("img",{src:Lt.a,alt:"logo",className:t.image}),r.a.createElement(fe.a,{variant:"h2",className:t.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement($.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),n.general&&r.a.createElement(fe.a,{variant:"body2",className:t.customError},n.general),r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a},"Login",a&&r.a.createElement(K.a,{size:30,className:t.progress})),r.a.createElement("br",null),r.a.createElement("small",null," Don't have an account? Sign up ",r.a.createElement(u.b,{to:"/signup"},"here")))),r.a.createElement(De.a,{item:!0,sm:!0}))}}]),t}(n.Component),Bt={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),z.a.post("/login",e).then((function(e){X(e.data.token),a(Y()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}},Vt=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),Bt)(J()(Ft)(Wt)),zt=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),Mt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle};e.props.signupUser(a,e.prop.history)},e.handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.state={email:" ",password:" ",confirmPassword:" ",handle:" ",errors:{}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return r.a.createElement(De.a,{container:!0,className:t.form},r.a.createElement(De.a,{item:!0,sm:!0}),r.a.createElement(De.a,{item:!0,sm:!0},r.a.createElement("img",{src:Lt.a,alt:"logo",className:t.image}),r.a.createElement(fe.a,{variant:"h2",className:t.pageTitle},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement($.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",className:t.textField,helperText:n.confirmPassword,error:!!n.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),r.a.createElement($.a,{id:"handle",name:"handle",type:"text",label:"Handle",className:t.textField,helperText:n.handle,error:!!n.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),n.general&&r.a.createElement(fe.a,{variant:"body2",className:t.customError},n.general),r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a},"Signup",a&&r.a.createElement(K.a,{size:30,className:t.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account? Log in ",r.a.createElement(u.b,{to:"/login"},"here")))),r.a.createElement(De.a,{item:!0,sm:!0}))}}]),t}(n.Component),Yt=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),z.a.post("/signup",e).then((function(e){X(e.data.token),a(Y()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(J()(zt)(Mt)),Xt=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}},"button",{float:"right"}),_t=J()(Xt)((function(e){var t=e.classes,a=e.profile,o=a.handle,i=a.createdAt,l=a.imageUrl,c=a.bio,s=a.website,p=a.location;return r.a.createElement(ft.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:l,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(St.a,{component:u.b,to:"/users/".concat(o),color:"primary",variant:"h5"},"@",o),r.a.createElement("hr",null),c&&r.a.createElement(fe.a,{variant:"body2"},c),r.a.createElement("hr",null),p&&r.a.createElement(n.Fragment,null,r.a.createElement(Et.a,{color:"primary"})," ",r.a.createElement("span",null,Location),r.a.createElement("hr",null)),s&&r.a.createElement(n.Fragment,null,r.a.createElement(xt.a,{color:"primary"}),r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"}," ",s),r.a.createElement("hr",null)),r.a.createElement(At.a,{color:"primary"})," ",r.a.createElement("span",null,"Joined ",me()(i).format("MMM YYYY")))))})),Ht=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={profile:null,updatesIdParam:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.handle,a=this.props.match.params.updatesId;a&&this.setState({updatesIdParam:a}),this.props.getUserData(t),z.a.get("/user/".concat(t)).then((function(t){e.setState({profile:t.data.user})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.data,t=e.updates,a=e.loading,n=this.state.updatesIdParam,o=a?r.a.createElement(Ut,null):null===t?r.a.createElement("p",null,"No updates from this user"):n?t.map((function(e){return e.updatesId!==n?r.a.createElement(st,{key:e.updatesId,update:e}):r.a.createElement(st,{key:e.updatesId,update:e,openDialog:!0})})):t.map((function(e){return r.a.createElement(st,{key:e.updatesId,update:e})}));return r.a.createElement(De.a,{container:!0,spacing:10},r.a.createElement(De.a,{item:!0,sm:8,xs:10},o),r.a.createElement(De.a,{item:!0,sm:4,xs:10},null===this.state.profile?r.a.createElement(jt,null):r.a.createElement(_t,{profile:this.state.profile})))}}]),t}(n.Component),qt=Object(f.b)((function(e){return{data:e.data}}),{getUserData:function(e){return function(t){t({type:"LOADING_DATA"}),z.a.get("/user/".concat(e)).then((function(e){t({type:"SET_UPDATES",payload:e.data.updates})})).catch((function(){t({type:"SET_UPDATES",payload:null})}))}}})(Ht);z.a.defaults.baseURL="https://us-central1-open-podcast-297f3.cloudfunctions.net/api";var Gt=localStorage.FBIdToken;Gt&&(1e3*h()(Gt).exp<Date.now()?(B.dispatch(M()),window.location.href="/login"):(B.dispatch({type:"SET_AUTHENTICATED"}),z.a.defaults.headers.common.Authorization=Gt,B.dispatch(Y())));var Jt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{store:B},r.a.createElement(u.a,null,r.a.createElement(Ie,null),r.a.createElement("div",{className:"container"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:Dt}),r.a.createElement(Pe,{exact:!0,path:"/login",component:Vt}),r.a.createElement(Pe,{exact:!0,path:"/signup",component:Yt}),r.a.createElement(d.b,{exact:!0,path:"/users/:handle",component:qt}),r.a.createElement(d.b,{exact:!0,path:"/users/:handle/update/:updatesId",component:qt})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},79:function(e,t,a){e.exports=a.p+"static/media/no-img.f5ef4263.png"},80:function(e,t){e.exports="data:image/png;base64,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"}},[[146,1,2]]]);
//# sourceMappingURL=main.13180c10.chunk.js.map